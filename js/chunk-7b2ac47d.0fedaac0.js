(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b2ac47d"],{3936:function(t,n,a){},7696:function(t,n,a){"use strict";a("b0c0");var s=a("2fa3");n["a"]={signIn:function(t){var n=t.account,a=t.password;return s["b"].post("/login",{account:n,password:a})},regist:function(t){var n=t.account,a=t.name,e=t.email,o=t.password,r=t.checkPassword;return s["b"].post("/users",{account:n,name:a,email:e,password:o,checkPassword:r})},AdminSignin:function(t){var n=t.account,a=t.password;return s["b"].post("/admin/login",{account:n,password:a})}}},a1d2:function(t,n,a){"use strict";a.r(n);var s=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"container"},[t._m(0),a("h1",[t._v("後台登入")]),a("form",{staticClass:"w-100",on:{submit:function(n){return n.preventDefault(),n.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[a("div",{class:["form-label-group",{"wrong-form":t.isWronging}]},[a("label",{attrs:{for:"name"}},[t._v("帳號")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.adminAccount,expression:"adminAccount"}],staticClass:"form-control",attrs:{id:"account",name:"account",type:"text",required:"",autofocus:""},domProps:{value:t.adminAccount},on:{input:function(n){n.target.composing||(t.adminAccount=n.target.value)}}}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.isWronging,expression:"isWronging"}],staticClass:"wrong-message"},[t._v("帳號不存在")])]),a("div",{class:["form-label-group",{"wrong-form":t.isWronging}]},[a("label",{attrs:{for:"password"}},[t._v("密碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.adminPassword,expression:"adminPassword"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",autocomplete:"new-password",required:""},domProps:{value:t.adminPassword},on:{input:function(n){n.target.composing||(t.adminPassword=n.target.value)}}})]),a("button",{staticClass:"btn btn-lg btn-primary btn-block mb-3",attrs:{type:"submit"}},[t._v(" 登入 ")]),a("div",{staticClass:"text-link text-center"},[a("p",[a("router-link",{staticClass:"admin-login",attrs:{to:"/signin"}},[t._v(" 前台登入 ")])],1)])])])},e=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"logo"},[a("img",{staticClass:"logo-img",attrs:{src:"https://upload.cc/i1/2022/05/10/LycK2A.png\n",alt:"AC-logo"}})])}],o=a("1da1"),r=(a("96cf"),a("d9e2"),a("7696")),i=a("2fa3"),c={data:function(){return{adminAccount:"",adminPassword:"",isProcessing:!1,isWronging:!1}},methods:{handleSubmit:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,s,e;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,t.adminAccount&&t.adminPassword){n.next=4;break}return i["a"].fire({icon:"warning",title:"請填入帳號和密碼"}),n.abrupt("return");case 4:return t.isProcessing=!0,n.next=7,r["a"].AdminSignin({account:t.adminAccount,password:t.adminPassword});case 7:if(a=n.sent,console.log("response",a),s=a.data,e=a.statusText,"OK"===e&&"success"===s.status){n.next=12;break}throw new Error(e);case 12:localStorage.setItem("token",s.data.token),localStorage.setItem("userId",s.data.user.id),console.log(s),t.$router.push("/admin/tweets"),n.next=24;break;case 18:n.prev=18,n.t0=n["catch"](0),t.adminPassword="",console.log(n.t0),t.isProcessing=!1,i["a"].fire({icon:"warning",title:"請確認您輸入了正確的帳號密碼"});case 24:case"end":return n.stop()}}),n,null,[[0,18]])})))()}}},u=c,d=(a("b2e4"),a("2877")),l=Object(d["a"])(u,s,e,!1,null,"cbc81ef6",null);n["default"]=l.exports},b2e4:function(t,n,a){"use strict";a("3936")}}]);
//# sourceMappingURL=chunk-7b2ac47d.0fedaac0.js.map