(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-252206c8"],{"0166":function(t,e,a){},1085:function(t,e,a){"use strict";a("0166")},"7d03":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-container"},[t._m(0),a("div",{staticClass:"navigation"},[a("router-link",{class:["nav-item",{"current-page":"admin-tweets"===t.currentPage}],attrs:{to:"/admin/tweets"}},[a("span",{staticClass:"nav-item-font icon-home-img"}),a("span",{staticClass:"nav-item-title"},[t._v("推文清單")])]),a("router-link",{class:["nav-item",{"current-page":"admin-users"===t.currentPage}],attrs:{to:"/admin/users"}},[a("span",{staticClass:"nav-item-font icon-self-img"}),a("span",{staticClass:"nav-item-title"},[t._v("使用者列表")])]),a("div",{staticClass:"nav-item logo-out"},[a("img",{staticClass:"nav-item-img",attrs:{src:"https://upload.cc/i1/2022/05/12/NqlER9.png",alt:"setting-img"}}),a("span",{staticClass:"nav-item-title",on:{click:t.logout}},[t._v("登出")])])],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("img",{staticClass:"logo-img",attrs:{src:"https://upload.cc/i1/2022/05/10/LycK2A.png",alt:"logo-img"}})])}],r=(a("b0c0"),{data:function(){return{currentPage:""}},created:function(){this.currentPage=this.$route.name},methods:{logout:function(){localStorage.removeItem("token"),this.$router.push("/signin")}}}),i=r,c=(a("da05"),a("2877")),o=Object(c["a"])(i,s,n,!1,null,"2df2cf62",null);e["a"]=o.exports},"9ab1":function(t,e,a){},be6c:function(t,e,a){"use strict";var s=a("2fa3"),n=function(){return localStorage.getItem("token")};e["a"]={getAdminTweets:function(){return s["b"].get("/admin/tweets",{headers:{Authorization:"Bearer ".concat(n())}})},getAdminUsers:function(){return s["b"].get("/admin/users",{headers:{Authorization:"Bearer ".concat(n())}})},deleteTweet:function(t){var e=t.tweetId;return s["b"].delete("/admin/tweets/".concat(e),{headers:{Authorization:"Bearer ".concat(n())}})}}},da05:function(t,e,a){"use strict";a("9ab1")},fa6a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"left-content"},[a("AdminNavbar")],1),a("div",{staticClass:"middle-content"},[t._m(0),a("div",{staticClass:"tweets"},t._l(t.users,(function(e){return a("div",{key:e.id,staticClass:"tweet"},[a("div",{staticClass:"tweet-img"},[a("router-link",{attrs:{to:{name:"user",params:{id:e.id}}}},[a("img",{staticClass:"user-photo",attrs:{src:t._f("emptyAvatar")(e.avatar),alt:""}})])],1),a("div",{staticClass:"tweet-right"},[a("div",{staticClass:"tweet-right-top"},[a("div",{staticClass:"user"},[a("router-link",{attrs:{to:{name:"user",params:{id:e.id}}}},[a("span",{staticClass:"user-name"},[t._v(t._s(e.name))]),a("span",{staticClass:"user-account"},[t._v("@"+t._s(e.account)+" ‧ ")])]),a("router-link",{attrs:{to:{name:"replylist",params:{tweet_id:e.id}}}},[a("span",{staticClass:"tweet-time"},[t._v(t._s(t._f("fromNow")(e.createdAt)))])])],1),a("div",{staticClass:"delete-tweet"},[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-xmark"},on:{click:function(a){return t.deleteTweet(e.id)}}})],1)]),a("div",{staticClass:"tweet-content"},[a("router-link",{attrs:{to:{name:"replylist",params:{tweet_id:e.id}}}},[a("span",{staticClass:"tweet-content"},[t._v(t._s(e.description))])])],1)])])})),0)])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("h4",[t._v("推文清單")])])}],r=a("1da1"),i=(a("96cf"),a("d9e2"),a("2708")),c=a("7d03"),o=a("be6c"),u=a("2fa3"),l=a("c1df"),d=a.n(l),m={mixins:[i["a"]],filters:{fromNow:function(t){return t?d()(t).fromNow():"-"}},components:{AdminNavbar:c["a"]},data:function(){return{users:[]}},created:function(){this.fetchUsers()},methods:{fetchUsers:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].getAdminTweets();case 3:if(a=e.sent,console.log("response",a),s=a.data,"success"===s.status){e.next=8;break}throw new Error(s.statusText);case 8:t.users=s.data,e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0),u["a"].fire({icon:"error",title:"無法取得後台推文資料，請稍後再試"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()},deleteTweet:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o["a"].deleteTweet({tweetId:t});case 3:return s=a.sent,console.log("deleteResponse",s),a.next=7,o["a"].getAdminTweets();case 7:n=a.sent,console.log("getResponse",n),r=n.data,e.users=r.data,a.next=17;break;case 13:a.prev=13,a.t0=a["catch"](0),console.log(a.t0),u["a"].fire({icon:"error",title:"無法刪除後台推文資料，請稍後再試"});case 17:case"end":return a.stop()}}),a,null,[[0,13]])})))()}}},f=m,v=(a("1085"),a("2877")),p=Object(v["a"])(f,s,n,!1,null,"03a1a162",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-252206c8.b74ebe8c.js.map