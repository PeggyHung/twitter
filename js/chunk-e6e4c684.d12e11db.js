(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6e4c684"],{"56c3":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"left-content"},[a("Navbar")],1),a("div",{staticClass:"middle-content"},[a("header",[a("img",{staticClass:"vector-primary",attrs:{src:"https://i.imgur.com/PYbiwrX.png",alt:""},on:{click:function(e){return t.$router.back()}}}),t._m(0)]),a("div",{staticClass:"tweet-section"},[a("div",{staticClass:"tweet-content"},[a("div",{staticClass:"user-avatar-name-account"},[a("router-link",{attrs:{to:{name:"user",params:{id:t.userId}}}},[a("img",{staticClass:"user-avatar",attrs:{src:t._f("emptyAvatar")(t.tweet.avatar),alt:""}})]),a("div",{staticClass:"user-name-account"},[a("span",{staticClass:"user-name"},[t._v(t._s(t.tweet.name))]),a("span",{staticClass:"user-account"},[t._v("@"+t._s(t.tweet.account))])])],1),a("div",{staticClass:"tweet-description"},[t._v(" "+t._s(t.tweet.description)+" ")]),a("div",{staticClass:"tweet-time"},[t._v(t._s(t._f("fromNow")(t.tweet.createdAt))+"小時")])]),a("div",{staticClass:"tweet-counts"},[a("p",{staticClass:"reply-count"},[t._v(t._s(t.tweet.replyCount)),a("span",[t._v(" 回覆")])]),a("p",{staticClass:"like-count"},[t._v(t._s(t.tweet.likeCount)),a("span",[t._v(" 喜歡次數")])])]),a("div",{staticClass:"tweet-actions"},[a("font-awesome-icon",{attrs:{"data-toggle":"modal","data-target":"#replyModal",icon:"fa-regular fa-comment"}}),t.tweet.isLiked?a("font-awesome-icon",{staticClass:"fa-heart-active",attrs:{icon:"fa-regular fa-heart"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deleteLike(t.tweet.id)}}}):a("font-awesome-icon",{attrs:{icon:"fa-regular fa-heart"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addLike(t.tweet.id)}}})],1)]),t._l(t.replylist,(function(t){return a("ReplyCard",{key:t.id,attrs:{"initial-reply":t}})}))],2),a("div",{staticClass:"right-content"},[a("PopularList")],1),a("ReplyModal",{attrs:{"initial-tweet":t.tweet},on:{"after-reply":t.handleAfterReply}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("h4",[t._v("推文")])])}],n=a("5530"),i=a("1da1"),c=(a("96cf"),a("b0c0"),a("a4d3"),a("e01a"),a("d9e2"),a("2708")),l=a("d178"),o=a("d88d"),u=a("f47d"),p=a("2797"),d=a("6783"),f={mixins:[c["a"]],components:{Navbar:l["a"],ReplyCard:o["a"],PopularList:u["a"],ReplyModal:p["a"]},data:function(){return{user:{Id:-1},tweet:{id:-1,name:"",account:"",avatar:"",description:"",createdAt:"",likeCount:0,replyCount:0,isLiked:!1},users:[],replylist:[]}},created:function(){this.fetchTweet(),this.fetchTweetReplies()},methods:{fetchTweet:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r,s,i,c,l,o,u,p,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["a"].getTweet(1);case 3:a=e.sent,r=a.data,console.log("fetchTweet",r),s=r.id,i=r.name,c=r.account,l=r.avatar,o=r.description,u=r.createdAt,p=r.likeCount,f=r.replyCount,t.tweet=Object(n["a"])(Object(n["a"])({},t.tweet),{},{id:s,name:i,account:c,avatar:l,description:o,createdAt:u,likeCount:p,replyCount:f}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},fetchTweetReplies:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["a"].getTweetReplies(1);case 3:a=e.sent,r=a.data,console.log("getTweetReplies",r),t.replylist=r,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log("getTweetReplies",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},handleAfterReply:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,r,s,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("handleAfterReply",t),a=t.tweetId,r=t.userId,s=t.comment,e.next=5,d["a"].createTweetReply({tweetId:a,userId:r,comment:s});case 5:if(n=e.sent,i=n.data,"success"===i.status){e.next=9;break}throw new Error(i.message);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log("createTweetReply",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},addLike:function(){this.tweet=Object(n["a"])(Object(n["a"])({},this.tweet),{},{isLiked:!0})},deleteLike:function(){this.tweet=Object(n["a"])(Object(n["a"])({},this.tweet),{},{isLiked:!1})}}},v=f,m=(a("bd76"),a("2877")),w=Object(m["a"])(v,r,s,!1,null,"037aab44",null);e["default"]=w.exports},"7a8b":function(t,e,a){},bd76:function(t,e,a){"use strict";a("e207")},d88d:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reply"},[a("div",{staticClass:"reply-img"},[a("img",{staticClass:"user-photo",attrs:{src:t._f("emptyAvatar")(t.profile.avatar),alt:""}})]),a("div",{staticClass:"reply-right"},[a("div",{staticClass:"user"},[a("span",{staticClass:"user-name"},[t._v(t._s(t.profile.name))]),a("span",{staticClass:"user-account"},[t._v(t._s(t.reply.account)+" ·"+t._s(t._f("fromNow")(t.reply.createdAt))+"小時")])]),a("div",{staticClass:"tweet"},[a("p",{staticClass:"tweet-reply"},[t._v(" 回覆 "),a("span",{staticClass:"tweet-account"},[t._v(" @"+t._s(t.reply.replyAccount))])])]),a("div",{staticClass:"reply-content"},[t._v(" "+t._s(t.reply.comment)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.initialCurrentUserId!==t.currentParams,expression:"initialCurrentUserId !== currentParams"}],staticClass:"reply-actions"},[a("div",{staticClass:"reply-action"},[a("font-awesome-icon",{attrs:{"data-toggle":"modal","data-target":"#replyModal",icon:"fa-regular fa-comment"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleReplyModel.apply(null,arguments)}}}),a("p",{staticClass:"reply-number"},[t._v(t._s(t.reply.replyNum))])],1),a("div",{staticClass:"reply-action"},[a("font-awesome-icon",{attrs:{icon:"fa-regular fa-heart"}}),a("p",{staticClass:"like-number"},[t._v(t._s(t.reply.likeNum))])],1)])])])},s=[],n=a("5530"),i=(a("a9e3"),a("c1df")),c=a.n(i),l={filters:{fromNow:function(t){return t?c()(t).fromNow():"-"}},props:{initialCurrentUserId:{type:Number,required:!0},initialUserReply:{type:Object,required:!0},initialProfile:{type:Object,required:!0},initialReply:{type:Object,required:!0}},data:function(){return{reply:this.initialUserReply,profile:this.initialProfile,currentParams:-1}},created:function(){var t=this.$route.params.id;this.currentParams=Number(t)},methods:{handleReplyModel:function(){}},watch:{initialUserReply:function(t){this.reply=Object(n["a"])(Object(n["a"])({},this.reply),t)},initialReply:function(t){this.reply=Object(n["a"])(Object(n["a"])({},this.reply),t)}}},o=l,u=(a("e00b"),a("2877")),p=Object(u["a"])(o,r,s,!1,null,"07e88fa6",null);e["a"]=p.exports},e00b:function(t,e,a){"use strict";a("7a8b")},e207:function(t,e,a){}}]);
//# sourceMappingURL=chunk-e6e4c684.d12e11db.js.map